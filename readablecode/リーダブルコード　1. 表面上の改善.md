# リーダブルコード　1. 表面上の改善

- 適切に名前を選ぶ
- 優れたコメントを書く
- 綺麗にフォーマットする

## 名前に情報を詰め込む
### 名前を見ただけで情報を読み取れるようにする
1. 明確な単語を選ぶ
2. 汎用的な名前は状況を選ぶ。基本的には避ける
3. 具体的な名前を使う
4. 接尾辞、接頭辞を使って名前に情報を追加
5. 名前の長さを決める
6. 名前のフォーマットで情報を伝える


## 1. 明確な単語を選ぶ
### 類語辞典を使って明確な単語を選ぶ

### 例えば
- Getだけではどこから取ってくるのかわからない
	- ローカルキャッシュ
	- データベース
	- インターネット
		- Fetch
		- Download

- Sizeだけでは何を返すのかわからない
	- ツリーの高さ
		- Height
	- ノード数
		- NumNodes
	- メモリ消費量
		- MemoryBytes
- stop 動作に合わせて明確にする
	- 取り返しが効かない
		- kill
	- 後からresumeできるなら
		- pause


## 2. 汎用的な名前は状況を選ぶ。基本的には避ける。
### 理由がなければ汎用的な名前を使わない
### エンティティの値や目的を表した名前を選ぶ。
### 例えば
#### 戻り値にretval
- 戻り値であることしかわからない
- 二乗の合計値ならば　`sum_squares`

#### tmp
- **情報の一時的な保管の時**
- 生存期間がわずか数行の時
- 他の関数に渡されない時
- 何度も書き換えられたりしないとき

#### ループイテレータ
- indexには説明的な名前にする
	- `user[user_i]`
	- `user[ui]`

## 3. 具体的な名前を使う
### 具体的に何を？と質問してみる
### 中身を読まなくても名前だけで具体的にわかるかどうか
- 返り値だけでなく、処置しているかどうかもわかるようにする
	- size()だと処理しない値が帰ってくることが期待される
	- countSize,countElementだと計算し、その値が返ってくる
- 任意のTCP/IP ポートをサーバがリッスンできるかを確認するメソッド
	- `ServerCanStart()`よりも`CanListenOnPort()`
- 何を許可しないのか明確にする
	- `DISALLOW_EVIL_CONSTRUCTORS(ClassName)`よりも`DISALLOW_COPY_AND_ASSIGN(ClassName)`

- 直行する概念は無理に１つにまとめず別々に使えるようにする

## 4. 接尾辞、接頭辞を使って名前に情報を追加する

### 単語を変数名に追加する
- hex_id 16進数が入ることがわかる

### 値の単位を追加する
- secs 秒を返す
- ms ミリ秒を返す
- mb メガバイトを返す
- kbps 回線速度を返す

### 属性を追加する
- 危険や注意喚起する情報

|状況|変数名|改善後|
|:--|:--|:--|
|暗号化前のpassword|password|plaintext_password|
|ユーザ入力のcomment|comment|unescaped_comment|
|utf8のhtml|html|html_utf8|
|URLエンコードしたdata|data|data_urlenc|
|エスケープ前のdata|data|raw_data|

- 関数呼び出し後の変数名
	- untrustedUrl -> trustedUrl
	- unsafeMessgageBody -> safeMessageBody


### 5. 名前の長さを決める
#### 名前は短い方がいい
- 1,2文字など短い名前はスコープが小さい時のみ
- スコープが数画面に及ぶなら長くする
- 多少長くてもエディタの補完機能がある
- 省略形は慎重に
	- 新しいチームメイトが名前を理解できるのであれば省力しても良い
		- evaluation -> eval
		- document -> doc
		- string -> str
- 不要な単語を捨てる
	- `ConvertToString` -> `toString`
	- `DoServeLoop()` -> `ServeLoove`

## 6. 名前のフォーマットで情報を伝える
- クラスのメンバ変数にアンダースコアをつけてローカル変数と区別するなど
- 言語のルールや、チームで話し合って決める。一貫性を持たせることが大切

## 誤解されない名前
### 他の意味と間違えられることはないだろうかと何度も自分に問いかける

- filter
	- select
	- exclude
- Clip(text, length)
	- remove
	- truncate(text, max_length)
- max_length
	- バイト数
	- 文字数
		- max_chars
	- 単語数
		- max_words

## 範囲指定の時	
- first,last 
- 限界値を含めるときはmin,maxを接頭辞にする
- 包含、排他的範囲にはbegin,end

## ブール値
- is, has, can, should
- 否定形は避ける

## 慣例
- getで始まるメソッドはメンバの値を返すだけの軽量アクセサ

## 綺麗にフォーマットする
- プログラミングの時間のほとんどはコードを読む時間
- 見やすさはわかりやすさを助ける
